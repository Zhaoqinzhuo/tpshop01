$(document).ready(
  function(n) {
    n.resizeFrontPageHero = function() {
      $(window).width() > 920 ? $(".frontpagehero").css({
        "font-size": $(window).width() / 1920 + "em"
      }) : $(".frontpagehero").css({
        "font-size": "0.4792em"
      }), $(window).width() < 1920 && $(window).width() > 920 ? $(".frontpagehero").css({
        height: $(window).width() / 21 * 9 + "px"
      }) : $(window).width() >= 1920 ? $(".frontpagehero").css({
        height: "830px"
      }) : $(".frontpagehero").css({
        height: "394px"
      })
    }
  }(window.PageContent = window.PageContent || {}), $(window).resize(function() {
    PageContent.resizeFrontPageHero()
  }), PageContent.resizeFrontPageHero(), scRec = document.createElement("SCRIPT"), scRec.type = "text/javascript", scRec.src = "assets/js/sessioncam.recorder.js", document.getElementsByTagName("head")[0].appendChild(scRec)
);


$(document).ready(function() {

  var windowWidth = $(window).width();
  var windowHeight = $(window).height();

  $('.grid-item .card-cover, .grid-sizer .card-cover').css({
    'height': $('.grid-item .card-cover').width() + 'px',
  });
  $('.grid-item--height2 .card-cover').each(function() {
    $(this).css({
      'height': $('.grid-sizer').height() + $('.grid-sizer .card-cover').height() + 30 + 'px',
    });
  });

  $('.grid-item--width2 .card-cover').css({
    'height': $('.grid-sizer .card-cover').height() + 'px',
  });

  $('.grid-item').each(function() {
    $(this).css({
      'height': $('.grid-sizer').height() + 'px',
    })
  });
  $('.grid-item--width2').each(function() {
    $(this).css({
      'height': $('.grid-sizer').height() + 'px',
    })
  });
  $('.grid-item--height2').each(function() {
    $(this).css({
      'height': $('.grid-sizer').height() * 2 + 30 + 'px',
    })
  });

  $('.product-spots').masonry({
    itemSelector: '.grid-item',
    columnWidth: '.grid-sizer',
    percentPosition: true
  });

  $('.list-item .card-cover, .list-sizer .card-cover').css({
    'height': $('.list-item .card-cover').width() + 'px',
  });
  $('.list-item--height2 .card-cover').each(function() {
    $(this).css({
      'height': $('.list-sizer').height() + $('.list-sizer .card-cover').height() + 30 + 'px',
    });
  });

  $('.list-item--width2 .card-cover').css({
    'height': $('.list-sizer .card-cover').height() + 'px',
  });

  $('.list-item').each(function() {
    $(this).css({
      'height': $('.list-sizer').height() + 'px',
    })
  });
  $('.list-item--width2').each(function() {
    $(this).css({
      'height': $('.list-sizer').height() + 'px',
    })
  });
  $('.list-item--height2').each(function() {
    $(this).css({
      'height': $('.list-sizer').height() * 2 + 30 + 'px',
    })
  });

  $('.product-list').masonry({
    itemSelector: '.list-item',
    columnWidth: '.list-sizer',
    percentPosition: true
  });


  $('.pop-item .card-cover, .pop-sizer .card-cover').css({
    'height':  ($(".content").width() / 1920) * 960 / 2 + 'px',
  });
  $('.pop-item--height2 .card-cover').each(function() {
    $(this).css({
      'height':  ($(".content").width() / 1920) * 960 + 'px',
    });
  });

  $('.pop-item--huge .card-cover').each(function() {
    $(this).css({
      'height':  ($(".content").width() / 1920) * 960 + 'px',
    });
  });

  $('.pop-item--width2 .card-cover').css({
    'height':  ($(".content").width() / 1920) * 960 / 2 + 'px',
  });

  $('.product-pop').masonry({
    itemSelector: '.pop-item',
    columnWidth: '.pop-sizer',
    // percentPosition: true
  });



  $('#navbar-product').css({
    'width': windowWidth + 'px',
  })

  //Product Page Scrollby: Smooth Scroll + Offset Header
  $("#product-nav .nav-tabs li a[href^='#']").on('click', function(e) {
    e.preventDefault();
    var hash = this.hash;
    $('html, body').animate({
      scrollTop: $(hash).offset().top - 124
    }, 300, function() {
      window.location.hash = hash;
    });
  });


  if(windowWidth > 768) {
    //Product Hero Intro
    var bannerHeight = $('.page-hero').height();
    var introHeight = $('.product-intro').height();
    var introMargin = (bannerHeight - introHeight) / 2;
    $('.product-intro').css({
      'margin-top': introMargin + 'px',
    });


    $('#techspec').css({
      'height': ($(".content").width() / 1920) * 1212 + 'px',
    });

    $('.fancybox').fancybox();

    // Video
    $('#a2-true360').vide({//a2 true360
       'mp4': 'assets/img/a2/video/true360',
       'webm': 'assets/img/a2/video/true360',
       'ogv': 'assets/img/a2/video/true360',
       'poster': 'assets/img/a2/video/true360',
     }).css({
      'width' : "100%",
      'height' : ($(".content").width() / 1920) * 1212 + 'px'
     });

     $('#a2-social').vide({//a2 social
       'mp4': 'assets/img/a2/video/social',
       'webm': 'assets/img/a2/video/social',
       'ogv': 'assets/img/a2/video/social',
       'poster': 'assets/img/a2/video/social',
     }).css({
      'width' : "100%",
      'height' : ($(".content").width() / 1920) * 1080 + 'px'
     });

     $('#a2-24loop').vide({//a2 24loop
       'mp4': 'assets/img/a2/video/24loop',
       'webm': 'assets/img/a2/video/24loop',
       'ogv': 'assets/img/a2/video/24loop',
       'poster': 'assets/img/a2/video/24loop',
     }).css({
      'width' : "100%",
      'height' : ($(".content").width() / 1920) * 1080 + 'px'
     });

     $('#a9-kvadrat').vide({//a2 true360
       'mp4': 'assets/img/a9/video/loop',
       'webm': 'assets/img/a9/video/loop',
     }).css({
      'width' : "100%",
      'height' : ($(".content").width() / 1920) * 800 + 'px'
     });

     $('#a9-processing-video').vide({//a2 true360
       'mp4': 'assets/img/a9/video/process',
       'webm': 'assets/img/a9/video/process',
     }).css({
      'width' : "80%",
      'height' : ($(".content").width() / 1280) * 600 + 'px'
     });

    $('#beolit15-video').vide({//Beolit 15 Video
       'mp4': 'assets/img/beolit15/video/video',
       'webm': 'assets/img/beolit15/video/video',
       'poster': 'assets/img/beolit15/video/video',
     }).css({
      'width' : "100%",
      'height' : ($(".content").width() / 1920) * 1212 + 'px'
     });


     $('div.column-center').css({
      'height' : ($(".content").width() / 1920) * 406 + 'px'
     });

     $('section.screen-section').css({
      'height' : ($(".content").width() / 1920) * 1080 + 'px'
     });

     // var audioElement = document.createElement('audio');
     //  audioElement.setAttribute('src', 'assets/audio/track.mp3');
     //  // audioElement.setAttribute('autoplay', 'false');
     //      //audioElement.load()
     //  $.get();

     //  audioElement.addEventListener("load", function() {
     //      audioElement.play();
     //  }, false);

     // $('.devices li').each(function(){
     //    $(this).click(function(){
     //      console.log('fuck again');
     //      $('.pulse').addClass('active');
     //      audioElement.play();
     //    });
     // });

     // Swiper
     var swiperA2 = new Swiper('.swiper-a2', {
          spaceBetween: 0,
          effect: 'fade',
          pagination: '.swiper-pagination',
          paginationClickable: '.swiper-pagination',
      });


     $('#a2-colors').css({
      'height' : $('.content').width() / 1024 * 568 + 'px'
     });

     $('#a2-colors .swiper-a2').css({
      'width' : $('#a2-colors').height() * 90 / 100 + 'px',
      'height' : $('#a2-colors').height() * 90 / 100 + 'px'
     });

     $('#a2-colors .swiper-img').css({
      'margin-top' : $('#a2-colors .swiper-a2').width() * 30 / 100 + 'px',
      'margin-left' : $('#a2-colors .swiper-a2').width() * 10 / 100 + 'px',
      'width' : $('#a2-colors .swiper-a2').width() * 80 / 100 + 'px'
     });
     $('#swiper-a2-nav').on('click', 'span:nth-child(2)', function(){
      console.log('thank you');
      $('#a2-colors').addClass('a2-nav-grey').removeClass('a2-nav-green a2-nav-black');
     });
     $('#swiper-a2-nav').on('click', 'span:nth-child(2)', function(){
      console.log('fuck you');
      $('#a2-colors').addClass('a2-nav-green').removeClass('a2-nav-grey a2-nav-black');
     });
     $('#swiper-a2-nav').on('click', 'span:nth-child(3)', function(){
      console.log('thank you');
      $('#a2-colors').addClass('a2-nav-grey').removeClass('a2-nav-green a2-nav-black');
     });
     $('#swiper-a2-nav').on('click', 'span:nth-child(4)', function(){
      console.log('miss you');
      $('#a2-colors').addClass('a2-nav-black').removeClass('a2-nav-grey a2-nav-green');
     });

     var swiperA2 = new Swiper('.swiper-h2', {
          spaceBetween: 0,
          effect: 'fade',
          pagination: '.swiper-paginations',
          paginationClickable: '.swiper-paginations',
      });

     $('#h2-colors').css({
      'height' : $('.content').width() / 1024 * 768 + 'px'
     });

     $('#h2-colors .swiper-h2').css({
      'width' : $('#h2-colors').height() * 70 / 100 + 'px',
      'height' : $('#h2-colors').height() * 70 / 100 + 'px'
     });

     $('#h2-colors .swiper-img').css({
      'margin-top' : '30px',
      'margin-left' : - '0px',
      'width' : $('#h2-colors .swiper-h2').width() * 100 / 100 + 'px'
     });

     $('#swiper-h2-nav').on('click', 'span:nth-child(1)', function(){
      console.log('fuck you');
      $('#h2-colors').addClass('h2-nav-red').removeClass('h2-nav-pink h2-nav-siver h2-nav-green h2-nav-black');
     });
     $('#swiper-h2-nav').on('click', 'span:nth-child(2)', function(){
      console.log('thank you');
      $('#h2-colors').addClass('h2-nav-pink').removeClass('h2-nav-red h2-nav-siver h2-nav-green h2-nav-black');
     });
     $('#swiper-h2-nav').on('click', 'span:nth-child(3)', function(){
      console.log('miss you');
      $('#h2-colors').addClass('h2-nav-siver').removeClass('h2-nav-red h2-nav-pink h2-nav-black h2-nav-green');
     });
     $('#swiper-h2-nav').on('click', 'span:nth-child(4)', function(){
      console.log('miss you');
      $('#h2-colors').addClass('h2-nav-green').removeClass('h2-nav-red h2-nav-pink h2-nav-black h2-nav-green');
     });
     $('#swiper-h2-nav').on('click', 'span:nth-child(5)', function(){
      console.log('miss you');
      $('#h2-colors').addClass('h2-nav-black').removeClass('h2-nav-red h2-nav-pink h2-nav-siver h2-nav-green');
     });
    }

    $('.section-cover').css({
      'height': $('.content').width() / 1620 * 954 + 'px',
    });
	
	var proreads_len = $('.proreads').length;
	var hhs = 364 + 30 + 'px';
	
	var widths = $(window).width();
	if(widths<800){
		hhs = 130;	
	}
  $('#pusher').css({
    'height': hhs,
  });

    var swiper = new Swiper('.product-slide .swiper-container', {
        pagination: '.swiper-pagination',
        paginationClickable: true,
        nextButton: '.swiper-button-next',
        prevButton: '.swiper-button-prev',
        spaceBetween: 30
    });

    var swiper = new Swiper('#v1-colors .swiper-container', {
        pagination: '.color-pagination',
        paginationClickable: true,
        paginationBulletRender: function (index, className) {
            return '<span class="' + className + '">' + '<i></i>' + '</span>';
        },
        effect: 'fade'
    });

    var swiper = new Swiper('.legacy-container', {
        pagination: '.legacy-pagination',
        slidesPerView: 2,
        centeredSlides: true,
        paginationClickable: true,
        spaceBetween: 30
    });

    $('#tv-colors-switcher').click(function(){
      $(this).toggleClass('tv-black');
      $('#tv-devices').toggleClass('tv-change');
    });

	$('.subnav a').click(function(){
		var md = $(this).attr("data-md");
		var px = $(this).attr("data-addpx");
		
		var top = $('.'+md).offset().top - 70;
		//$(window).scrollTop(top);
		
		if(typeof(px)!="undefined" && parseInt(px) > 0)
		{
			top = top + parseInt(px);	
		}
		$('html,body').animate({scrollTop:top}, 800);
		return false;
	});

    $('.legacy-pic-switch').click(function(){
      $(this).closest('.legacy-slide').toggleClass('legacy-pic-change');
    });

    $('.legacy-pagination .swiper-pagination-bullet').each(function(){
      $(this).click(function() {
        $('.legacy-container .legacy-slide').each(function(){
          $(this).removeClass('legacy-pic-change');
        });
      });
    });

    $('.h3-slide').css({
      'height' : windowWidth / 1280 * 720 + 'px',
    })

    $('#Earset3Highlight').css({
      'width' : windowWidth - 60 + 'px',
      'height' : windowWidth / 1620 * 632 + 'px'
    });

    $('#color-white-1').click(function(){
      $('#Earset3Highlight').removeClass().addClass('default');
    });
    $('#color-black-1').click(function(){
      $('#Earset3Highlight').removeClass().addClass('black1');
    });
    $('#color-white-2').click(function(){
      $('#Earset3Highlight').removeClass().addClass('white2');
    });
    $('#color-black-2').click(function(){
      $('#Earset3Highlight').removeClass().addClass('black2');
    });

    var swiper = new Swiper('.buy-slider', {
        pagination: '.buy-switcher',
        paginationClickable: '.swiper-pagination',
        effect: 'fade',
        paginationBulletRender: function (index, className) {
            return '<span class="' + className + '">' + '<i class="fa fa-check"></i>' + '</span>';
        }
    });


    $('.posts').masonry({
      // itemSelector: '.grid-item',<div class="news-letter-up">…</div>
      // columnWidth: '.grid-sizer',
      // percentPosition: true
    });

    $('#news-letter-close').click(function(){
      $('#newsletter').hide();
      $('#newsletter-toggle').css({
        'display' : 'block',
      });
    });

    $('#newsletter-toggle').click(function(){
      $(this).hide();
      $('#newsletter').show();
    })

});